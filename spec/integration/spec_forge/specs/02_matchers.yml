get_data_types:
  path: /data/types
  expectations:
  - expect:
      status: 200
      json:
        # Basic equality matching
        string_value:
          matcher.and:
          - kind_of.string
          - "Hello, world!"

        # Type checking with kind_of combined with range check
        decimal_value:
          matcher.and:
          - kind_of.float
          - be.between:
            - 3.0
            - 4.0

        # Nested object
        nested_object:
          level1:
            level2:
              level3: "Deep value"
              items_count:
                be.greater_than_or_equal: 5
              enabled: be.true

        # Array contains element
        array_simple:
          matcher.include: 3

get_regex_match:
  path: /data/types
  expectations:
  - expect:
      status: 200
      json:
        # Combining regex and type check with matcher.and
        string_value:
          matcher.and:
          - kind_of.string
          - /Hello/
          - matcher.start_with: "Hello"

get_more_type_checks:
  path: /data/types
  expectations:
  - expect:
      status: 200
      json:
        array_simple:
          matcher.and:
          - kind_of.array
          - matcher.include: 3
          - be.present
        null_value: be.nil
        boolean_value: be.true

get_comparisons:
  path: /data/types
  expectations:
  - expect:
      status: 200
      json:
        # Use combined matchers for more comprehensive tests
        number_value:
          matcher.and:
          - kind_of.integer
          - be.greater_than: 40
          - be.less_than: 50
        decimal_value:
          matcher.and:
          - kind_of.float
          - be.less_than: 4.0

get_user_data:
  path: /data/users
  variables:
    min_count: 1
  expectations:
  - expect:
      status: 200
      json:
        # Minimum count of something
        total:
          be.greater_than_or_equal: variables.min_count

        # All items in an array match a pattern
        users:
          matcher.all:
            matcher.include:
              id: kind_of.integer
              name: kind_of.string
              # Enhanced email validation with compound matcher
              email:
                matcher.and:
                - kind_of.string
                - /@/
                - matcher.include: "."
              created_at: kind_of.string
