# Tests shape validation with nested objects and arrays

- name: "Create nested resource"
  request:
    method: POST
    url: "/api/resources"
    json:
      name: "Test Resource"
      config:
        enabled: true
        tags:
          - alpha
          - beta
  expect:
    - status: 201
      json:
        shape:
          id: integer
          name: string
          config:
            enabled: boolean
            tags: [string]
          metadata:
            created_at: string
            updated_at: ?string
