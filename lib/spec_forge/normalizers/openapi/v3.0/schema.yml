####################################################################################################
# https://spec.openapis.org/oas/v3.0.4.html#schema-object

####################################################################################################
# Base fields

"$ref":
  type: string
  required: false

type:
  type: string
  required: false

format:
  type: string
  required: false

title:
  type: string
  required: false

description:
  type: string
  required: false

default:
  type: object
  required: false

####################################################################################################
# Common fields

nullable:
  type: boolean
  required: false

discriminator:
  type: hash
  required: false
  structure:
    ###########################################

    property_name:
      type: string
      aliases: [ "propertyName" ]

    mapping:
      type: hash
      required: false
      structure:
        "*":
          type: string

read_only:
  type: boolean
  required: false
  aliases: [ "readOnly", "readonly" ]

write_only:
  type: boolean
  required: false
  aliases: [ "writeOnly", "writeonly" ]

xml:
  type: hash
  required: false
  structure:
    name:
      type: string
      required: false

    namespace:
      type: string
      required: false

    prefix:
      type: string
      required: false

    attribute:
      type: boolean
      required: false

    wrapped:
      type: boolean
      required: false

external_docs:
  type: hash
  required: false
  aliases: [ "externalDocs" ]
  structure:
    ###########################################
    reference: openapi/v3.0/external_docs

example:
  type: object
  required: false

deprecated:
  type: boolean
  required: false

####################################################################################################
# Type-specific validation fields

###########################################
# Numeric

multiple_of:
  type: numeric
  required: false
  aliases: [ "multipleOf" ]

maximum:
  type: numeric
  required: false

exclusive_maximum:
  type: boolean
  required: false
  aliases: [ "exclusiveMaximum" ]

minimum:
  type: numeric
  required: false

exclusive_minimum:
  type: boolean
  required: false
  aliases: [ "exclusiveMinimum" ]

###########################################
# String

max_length:
  type: integer
  required: false
  aliases: [ "maxLength" ]

min_length:
  type: integer
  required: false
  aliases: [ "minLength" ]

pattern:
  type: string
  required: false

###########################################
# Array

## This is a Schema object, but referencing schema will cause a infinite loop. Hmm...
items:
  type: hash
  required: false

max_items:
  type: integer
  required: false
  aliases: [ "maxItems" ]

min_items:
  type: integer
  required: false
  aliases: [ "minItems" ]

unique_items:
  type: boolean
  required: false
  aliases: [ "uniqueItems" ]

###########################################
# Object

## This is a Schema object, but referencing schema will cause a infinite loop. Hmm...
properties:
  type: hash
  required: false

additional_properties:
  type:
  - boolean
  - hash
  required: false
  aliases: [ "additionalProperties" ]

max_properties:
  type: integer
  required: false
  aliases: [ "maxProperties" ]

min_properties:
  type: integer
  required: false
  aliases: [ "minProperties" ]

required:
  type: array
  required: false
  structure:
    type: string

####################################################################################################
# Validators

all_of:
  type: array
  required: false
  aliases: [ "allOf" ]
  structure:
    ## This is a Schema object, but referencing schema will cause a infinite loop. Hmm...
    type: hash

one_of:
  type: array
  required: false
  aliases: [ "oneOf" ]
  structure:
    ## This is a Schema object, but referencing schema will cause a infinite loop. Hmm...
    type: hash

any_of:
  type: array
  required: false
  aliases: [ "anyOf" ]
  structure:
    ## This is a Schema object, but referencing schema will cause a infinite loop. Hmm...
    type: hash

not:
  type: hash
  required: false

enum:
  type: array
  required: false
  structure:
    ## This is a Schema object, but referencing schema will cause a infinite loop. Hmm...
    type: hash
